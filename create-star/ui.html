<h1>Color tint generator</h1>
<form id="pluginForm">
  <fieldset>
    <legend>Star generator</legend>
    <p>
      <label for="colorCode">Color</label>
      <input type="color" id="colorCode" name="colorCode" value="#F65446" />
    </p>
    <p>
      <label for="totalStars">Total number of stars</label>
      <input
        type="number"
        value="10"
        min="1"
        max="10"
        id="totalStars"
        name="totalStars"
      />
    </p>
    <p>
      <label for="coloredStars">Number of colored stars</label>
      <input
        type="number"
        value="10"
        min="1"
        max="10"
        id="coloredStars"
        name="coloredStars"
      />
    </p>
  </fieldset>
  <fieldset>
    <p>
      <label for="starSpacing">Star Spacing</label>
      <input
        type="number"
        id="starSpacing"
        name="starSpacing"
        value="32"
        min="0"
      />
    </p>
  </fieldset>
  <p></p>
  <button id="generate">Generate Stars</button>
  <button id="cancel">Cancel</button>
</form>
<script>
  document.getElementById("generate").onclick = (event) => {
    event.preventDefault();

    //get the form
    let pluginForm = document.querySelector("#pluginForm");
    //get fields data from form
    let pluginFormData = new FormData(pluginForm);
    let formDataObj = {};

    for (let [key, value] of pluginFormData) {
      formDataObj[key] = value;
    }
    // console.log(formDataObj);
    parent.postMessage({ pluginMessage: { type: "actionGenerate", formData:formDataObj} }, "*");
  };
  document.getElementById("cancel").onclick = (event) => {
    parent.postMessage({ pluginMessage: { type: "actionExit" } }, "*");
  };
</script>
